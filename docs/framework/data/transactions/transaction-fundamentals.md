---
title: トランザクションの基礎
description: .NET のトランザクションの基礎を確認します。 すべてのトランザクションは基本 ACID プロパティ (atomic、consistent、isolated、durable) を持つ必要があります。
ms.date: 03/30/2017
ms.assetid: 353f4ee2-e6bf-4b1c-b1c8-385fc8a486c0
ms.openlocfilehash: 49292172b07985d379bfa5d520798d7d97af5749
ms.sourcegitcommit: 6219b1e1feccb16d88656444210fed3297f5611e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/22/2020
ms.locfileid: "85141940"
---
# <a name="transaction-fundamentals"></a>トランザクションの基礎
トランザクションとは、複数のタスクを互いに結合したものです。 たとえば、あるアプリケーションが 2 つのタスクを実行するものとします。 まず、このアプリケーションはデータベースに新しいテーブルを作成します。 次に、データを収集、フォーマットし、新しく作成したテーブルに挿入する特定のオブジェクトを呼び出します。 この 2 つのタスクは、単に関連しているだけでなく、相互に依存しており、たとえば、新しいテーブルにデータを格納できなければ新しいテーブルを作成しないようにできます。 単一のトランザクションのスコープ内でこの 2 つのタスクを実行すると、両タスク間の結合が行われます。 第 2 のタスクが失敗すると、新しいテーブルの作成以前の時点まで第 1 のタスクがロールバックされます。  
  
 動作を予測できるようにするため、すべてのトランザクションは基本 ACID プロパティ (atomic、consistent、isolated、および durable) を持つ必要があります。 これらのプロパティは、ミッション クリティカルなトランザクションの役割を悉無律型の命題として規定します。 ACID の詳細については、「[ACID プロパティ](/windows/win32/cossdk/acid-properties)」を参照してください。 要約すると、ACID を使用すれば、一連の関連タスクを 1 つの単位として成功または失敗させることができます。 トランザクション処理の用語でいえば、トランザクションはコミットされるか中止されるかのいずれかである、ということになります。 トランザクションをコミットするためには、すべての参加要素が、データに対する変更は永続化されるということを保証する必要があります。 システム クラッシュその他の予期しない出来事が発生した場合でも、変更は保持されます。 この保証を履行しない参加要素が 1 つでもあると、トランザクション全体が失敗します。 そのトランザクションのスコープ内でのデータに対するすべての変更が、特定の時点までロールバックされます。  
  
 トランザクションは、データベースやメッセージ キューなどの単一のデータ リソースに収容することができます。 このシナリオでは、ローカル トランザクションは、パフォーマンスを向上させる <xref:System.Transactions> が提供するトランザクション マネージャーによって管理されます。 これらのトランザクションは、データ リソースによって制御されるため、効率的で管理しやすくなっています。  
  
 さらに、トランザクションは複数のデータ リソースにまたがることもできます。 分散トランザクションにより、さまざまなシステムで発生する複数の異なる操作を、単一の成功または失敗操作に統合することができます。 このシナリオでは、トランザクションは、各システムに常駐する Microsoft 分散トランザクション コーディネーター (MSDTC) によって調整されます。  
  
 <xref:System.Transactions> の提供するクラスを使用してトランザクション アプリケーションを開発する際は、必要なトランザクションの種類や関連するトランザクション マネージャーを気にする必要はありません。 <xref:System.Transactions> インフラストラクチャが自動的にこれらを管理します。  
  
 トランザクションの作成時に、トランザクションに適用する分離レベルを指定できます。 <xref:System.Transactions.IsolationLevel> 列挙型で定義されている分離レベルにより、特定のトランザクションの影響を受けるデータに対して他のトランザクションが持つアクセス レベルが決定されます。  
  
 トランザクションの作成には、ADO.NET、<xref:System.EnterpriseServices>、または <xref:System.Transactions> 名前空間によって提供されるトランザクション プログラミング モデルを使用できます。 「[System.Transactions により提供される機能](features-provided-by-system-transactions.md)」トピックでは、<xref:System.Transactions> 名前空間を使用してトランザクション アプリケーションを作成するときに使用できる機能について説明されています。  
  
## <a name="see-also"></a>関連項目

- [System.Transactions により提供される機能](features-provided-by-system-transactions.md)
