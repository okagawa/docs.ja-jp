---
title: アクティビティ リスト
ms.date: 03/30/2017
ms.assetid: 5540e185-ce8e-4db3-83b0-2b9f5bf71829
ms.openlocfilehash: 8d43cc878d54efbd4908f92c3405bef2c7956f94
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84602168"
---
# <a name="activity-list"></a>アクティビティ リスト
このトピックでは、Windows Communication Foundation (WCF) によって定義されたすべてのアクティビティを示します。  
  
> [!NOTE]
> また、ユーザー トレースをグループ化するために、アクティビティをプログラムによって定義することもできます。 詳細については、「[ユーザーコードトレースの出力](emitting-user-code-traces.md)」を参照してください。  
  
## <a name="servicemodel-activities"></a>ServiceModel アクティビティ  
 主要な使用シナリオに対応するすべてのアクティビティを次の表に示します。  
  
|Label|Activity Name (アクティビティ名)|Activity Type (アクティビティの種類)|説明|  
|-----------|-------------------|-------------------|-----------------|  
|A、M|アンビエント アクティビティ|N/A (ServiceModel によって制御されません)|ServiceModel コード (クライアント側またはサーバー側) を呼び出す前に、ID が TLS に設定されるアクティビティ。<br /><br /> 例: WCF クライアントまたは serviceHost で open が呼び出されるアクティビティ。 open が呼び出されます。|  
|B|構成体<br /><br /> 構築する。 ContractType: '[種類]'。|構成体||  
|C|開く<br /><br /> [ClientBase&#124;ChannelFactory]。 ContractType: '[種類]'。|開く||  
|I|[ClientBase&#124;ChannelFactory] を閉じます。 ContractType: '[種類]'。|閉じる||  
|M|ServiceHost を構築する。 ServiceType: '[種類]'。|構成体||  
|N|ServiceHost を開く。 ServiceType: '[種類]'。|開く||  
|Z|ServiceHost を閉じる。 ServiceType: '[種類]'。|閉じる||  
|O|'[アドレス]' でリッスンする。|ListenAt|このアクティビティと次のアクティビティはトランスポート固有です。 ListenAt アクティビティは、チャネル リスナーがリッスンするアドレスにマップされるコンテンツを表します。 MSMQ の場合は、キューが 1 つのアドレスにマップされるため、これはキューそのものです。 このアクティビティは、接続指向のトランスポートの場合は受信接続をリッスンし、MSMQ の場合は MSMQ メッセージをリッスンします。 このアクティビティは ServiceHost.Open() の間に作成され、リスナーの作成と破棄、およびすべての ReceiveBytes アクティビティへの転送に関連するトレースを格納します。|  
|P|接続 '[アドレス]' でのバイトを受信する。 MSMQ メッセージを受信する。|ReceiveBytes|このアクティビティでは、最終的に WCF メッセージを取得するデータが処理されます。 接続指向のトランスポートまたは http の場合は、受信バイトを待ちます。 TCP/名前付きパイプの場合は、接続が作成されるときにアクティビティが作成されるため、このアクティビティの有効期間は接続の有効期間と等しくなります。 http の場合、これはメッセージ要求の有効期間と等しく、メッセージが送信されるときにアクティビティが作成されます。 このアクティビティは、接続の作成と破棄 (該当する場合)、およびすべてのメッセージ (オブジェクト) 処理アクティビティへの転送に関連するトレースを格納します。<br /><br /> MSMQ の場合、これは MSMQ メッセージが取得されるアクティビティです。|  
|Q|メッセージ [番号] を処理する  ([番号] は、1 で始まる、単調に増加する値です)。|ProcessMessage|受信メッセージを処理します。 このアクティビティは、WCF メッセージオブジェクトを形成するためにすべてのデータ (バイト、MSMQ メッセージ) を受信したときに開始されます。 このアクティビティに格納されたトレースは、ヘッダー処理を扱います。<br /><br /> ディスパッチ可能なメッセージが形成されると、対応するアクティビティ ID を検索した後で ServiceHost ProcessAction アクティビティとの間で切り替わります。|  
|D、S|アクション '[アクション]' を処理する。|ProcessAction|受信時にはユーザー コードにメッセージをディスパッチし、送信時には逆の順序でメッセージをディスパッチするために、トランスポート/セキュリティ/RM スタックを通じてメッセージを処理します。<br /><br /> サーバーでは、このアクティビティは、"アクティビティの伝達" によってメッセージヘッダーで送信された場合、伝達されたアクティビティ ID を使用します。それ以外の場合は、新しい GUID が作成されます。<br /><br /> 要求/応答コントラクトに対する応答メッセージも、そのアクティビティで処理されます。|  
|T|'[IContract.Operation]' を実行する。|ExecuteUserCode|サービス側でディスパッチ後にユーザー コードを実行します。 このアクティビティは、ユーザー指定のコードと ServiceHost コードを区別するための境界を提供します。|  
  
## <a name="security-activities"></a>セキュリティ アクティビティ  
 セキュリティに関連するすべてのアクティビティを次の表に示します。  
  
|Activity Name (アクティビティ名)|Activity Type (アクティビティの種類)|説明|  
|-------------------|-------------------|-----------------|  
|セキュリティで保護されたセッションをセットアップする|SetupSecurity|クライアント側だけに存在します。 認証およびセキュリティ コンテキストの設定のためのすべての "RST*/SCT 交換" を格納します。 の場合 `propagateActivity` = `true` 、このアクティビティは、サービスの対応するプロセスアクションの RST/SCT アクティビティにマージされ \* ます。|  
|セキュリティで保護されたセッションを閉じる|SetupSecurity|クライアント側に存在します。 セキュリティで保護されたセッションを閉じるための "メッセージ交換のキャンセル" を格納します。 `propagateActivity` = `true` の場合、このアクティビティはサービスからのプロセスアクション "Cancel" にマージされます。|  
  
 COM+ に関連するすべてのアクティビティを次の表に示します。  
  
|Activity Name (アクティビティ名)|Activity Type (アクティビティの種類)|説明|  
|-------------------|-------------------|-----------------|  
|COM+ インスタンスを作成する|TransferToCOMPlus|WCF コードからの COM + 呼び出しごとに1つのアクティビティインスタンス|  
|COM + の実行\<operation>|TransferToCOMPlus|WCF コードからの COM + 呼び出しごとに1つのアクティビティインスタンス|  
  
## <a name="wmi-activities"></a>WMI アクティビティ  
 WMI に関連するすべてのアクティビティを次の表に示します。  
  
|Activity Name (アクティビティ名)|Activity Type (アクティビティの種類)|説明|  
|-------------------|-------------------|-----------------|  
|WMI Get|WMIGetObject|ユーザーは、WMI からデータを取得しています。|  
|WMI Put|WmiPutInstance|ユーザーは、WMI でデータを更新しています。|
