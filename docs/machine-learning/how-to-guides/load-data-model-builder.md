---
title: モデル ビルダーのトレーニング データの読み込み
description: ML.NET 用のモデル ビルダー シナリオのいずれかで使用するために、SQL Server データベースまたはファイルからトレーニング データを読み込む方法について説明します。
ms.date: 10/29/2019
author: luisquintanilla
ms.author: luquinta
ms.custom: mvc, how-to, mlnet-tooling
ms.openlocfilehash: 64e366b3c66427ccd2810324abeb880f6cb9ebc1
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84602207"
---
# <a name="load-training-data-into-model-builder"></a>モデル ビルダーにトレーニング データを読み込む

ML.NET 用のモデル ビルダー シナリオのいずれかで使用するために、ファイルまたは SQL Server データベースからご利用のトレーニング データセットを読み込む方法について説明します。 モデル ビルダーのシナリオでは、SQL Server データベース、イメージ ファイル、CSV または TSV ファイル形式をトレーニング データとして使用できます。

## <a name="training-dataset-limitations-in-model-builder"></a>モデル ビルダーでのデータセットの制限のトレーニング

モデル ビルダーでは、モデルのトレーニングに使用できるデータの量と種類が制限されます。

- SQL Server データ: 100,000 行
- CSV ファイルと TSV ファイル: サイズ制限なし
- イメージ:PNG および JPG のみ。

## <a name="model-builder-scenarios"></a>モデル ビルダーのシナリオ

モデル ビルダーは、次の機械学習シナリオ用のモデルを作成するのに役立ちます。

- センチメント分析 (二項分類)テキスト データを 2 つのカテゴリに分類します。
- 問題の分類 (多クラス分類)テキスト データを 3 つ以上のカテゴリに分類します。
- 料金の予測 (回帰): 数値を予測します。
- イメージ分類 (ディープ ラーニング): 特性に基づいてイメージを分類します。
- カスタム シナリオ: 回帰、分類、およびその他のタスクを使用して、ご利用のデータからカスタム シナリオを作成します。

この記事では、テキスト データまたは数値データを含む分類と回帰のシナリオと、イメージ分類シナリオについて説明します。

## <a name="load-text-or-numeric-data-from-a-file"></a>ファイルからのテキスト データまたは数値データの読み込み

ファイルからモデル ビルダーにテキスト データまたは数値データを読み込むことができます。 コンマ区切り (CSV) またはタブ区切り (TSV) のファイル形式が受け入れられます。

1. モデル ビルダーのデータの手順で、データ ソースのドロップダウンから **[ファイル]** を選択します。
2. **[ファイルの選択]** テキスト ボックスの横にあるボタンを選択し、エクスプローラーを使用してデータ ファイルを参照します。
3. **[予測する列 (ラベル)]** ドロップダウンで [センチメント] を選択します。
4. **[入力列 (機能)]** ドロップダウンから、含めるデータ列がチェックされていることを確認します。

モデル ビルダーで使用するデータ ソース ファイルの設定が完了しました。 **[トレーニング]** リンクを選択して、モデル ビルダーの次の手順に進みます。

## <a name="load-data-from-a-sql-server-database"></a>SQL Server データベースからデータを読み込む

モデル ビルダーでは、ローカルおよびリモートの SQL Server データベースからのデータの読み込みがサポートされています。

SQL Server データベースからモジュール ビルダーにデータを読み込むには、次のようにします。

1. モデル ビルダーのデータの手順で、データ ソースのドロップダウンから **[SQL Server]** を選択します。
1. **[SQL Server データベースに接続]** テキスト ボックスの横にあるボタンを選択します。
    1. **[データの選択]** ダイアログで、 **[Microsoft SQL Server データベース ファイル]** を選択します。
    1. **[常にこれを選択する]** チェックボックスをオフにして、 **[続行]** を選択します。
    1. **[接続プロパティ]** ダイアログで、 **[参照]** を選択し、ダウンロードした .MDF ファイルを選択します。
    1. **[OK]** を選択します。
1. **[テーブル名]** ドロップダウンからデータセット名を選択します。
1. **[予測する列 (ラベル)]** ドロップダウンで、予測を作成するデータ カテゴリを選択します。
1. **[入力列 (機能)]** ドロップダウンから、含める列がチェックされていることを確認します。

モデル ビルダーで使用するデータ ソース ファイルの設定が完了しました。 **[トレーニング]** リンクを選択して、モデル ビルダーの次の手順に進みます。

## <a name="set-up-image-data-files"></a>イメージ データ ファイルを設定する

モデル ビルダーでは、イメージ データが、分類のカテゴリに対応するフォルダーに整理された JPG または PNG ファイルである必要があります。

モデル ビルダーにイメージを読み込むには、単一の最上位ディレクトリへのパスを指定します。

- この最上位ディレクトリには、予測するカテゴリごとにサブフォルダーが 1 つ含まれています。
- 各サブフォルダーには、そのカテゴリに属するイメージ ファイルが含まれています。

次に示すフォルダー構造で、最上位ディレクトリは *flower_photos* です。 予測するカテゴリに対応したサブディレクトリとして、daisy、dandelion、roses、sunflowers、および tulips の 5 つがあります。 これらの各サブディレクトリには、それぞれのカテゴリに属するイメージが含まれています。

```text
\---flower_photos
    +---daisy
    |       100080576_f52e8ee070_n.jpg
    |       102841525_bd6628ae3c.jpg
    |       105806915_a9c13e2106_n.jpg
    |
    +---dandelion
    |       10443973_aeb97513fc_m.jpg
    |       10683189_bd6e371b97.jpg
    |       10919961_0af657c4e8.jpg
    |
    +---roses
    |       102501987_3cdb8e5394_n.jpg
    |       110472418_87b6a3aa98_m.jpg
    |       118974357_0faa23cce9_n.jpg
    |
    +---sunflowers
    |       127192624_afa3d9cb84.jpg
    |       145303599_2627e23815_n.jpg
    |       147804446_ef9244c8ce_m.jpg
    |
    \---tulips
            100930342_92e8746431_n.jpg
            107693873_86021ac4ea_n.jpg
            10791227_7168491604.jpg
```

## <a name="next-steps"></a>次の手順

次のチュートリアルに従って、モデル ビルダーを使用した機械学習アプリの作成を行います。

- [回帰を使用して価格を予測する](../tutorials/predict-prices-with-model-builder.md)
- [バイナリ分類を使用して Web アプリケーションのセンチメントを分析する](../tutorials/sentiment-analysis-model-builder.md)

コードを使用してモデルをトレーニングする場合は、[ML.NET API を使用したデータ読み込みの方法](load-data-ml-net.md)に関するページを参照してください。
